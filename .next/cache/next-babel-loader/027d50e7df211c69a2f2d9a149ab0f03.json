{"ast":null,"code":"import fs from 'fs';\nimport path from 'path';\nconst sketchsDir = path.join(process.cwd(), 'public', 'projects');\nexport function getSketches() {\n  const sketches = fs.readFileSync(path.join(sketchsDir, 'sketches.json'), {\n    encoding: 'utf8'\n  });\n  return JSON.parse(sketches);\n}\n;\nexport function getSketchesIds() {\n  return fs.readdirSync(sketchsDir);\n}\nexport function getSketchById(id) {\n  const sketches = getSketches();\n  return sketches.filter(sketch => sketch.id === id)[0];\n}\n;\nexport function pickRandomSketch(sketches, id) {\n  const pool = sketches.filter(sketch => sketch.id !== id);\n  const roll = Math.floor(Math.random() * (pool.length + 1));\n  const idx = Math.max(Math.min(roll, pool.length - 1), 0);\n  return pool[idx];\n}","map":{"version":3,"sources":["/Users/feral/Projects/ricardomatias.github.io/lib/sketches.js"],"names":["fs","path","sketchsDir","join","process","cwd","getSketches","sketches","readFileSync","encoding","JSON","parse","getSketchesIds","readdirSync","getSketchById","id","filter","sketch","pickRandomSketch","pool","roll","Math","floor","random","length","idx","max","min"],"mappings":"AAAA,OAAOA,EAAP,MAAe,IAAf;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,MAAMC,UAAU,GAAGD,IAAI,CAACE,IAAL,CAAUC,OAAO,CAACC,GAAR,EAAV,EAAyB,QAAzB,EAAmC,UAAnC,CAAnB;AAEA,OAAO,SAASC,WAAT,GAAuB;AAC7B,QAAMC,QAAQ,GAAGP,EAAE,CAACQ,YAAH,CAAgBP,IAAI,CAACE,IAAL,CAAUD,UAAV,EAAsB,eAAtB,CAAhB,EAAwD;AAAEO,IAAAA,QAAQ,EAAE;AAAZ,GAAxD,CAAjB;AAEA,SAAOC,IAAI,CAACC,KAAL,CAAWJ,QAAX,CAAP;AACA;AAAA;AAED,OAAO,SAASK,cAAT,GAA0B;AAChC,SAAOZ,EAAE,CAACa,WAAH,CAAeX,UAAf,CAAP;AACA;AAED,OAAO,SAASY,aAAT,CAAuBC,EAAvB,EAA2B;AACjC,QAAMR,QAAQ,GAAGD,WAAW,EAA5B;AAEA,SAAOC,QAAQ,CAACS,MAAT,CAAiBC,MAAD,IAAYA,MAAM,CAACF,EAAP,KAAcA,EAA1C,EAA8C,CAA9C,CAAP;AACA;AAAA;AAED,OAAO,SAASG,gBAAT,CAA0BX,QAA1B,EAAoCQ,EAApC,EAAwC;AAC9C,QAAMI,IAAI,GAAGZ,QAAQ,CAACS,MAAT,CAAiBC,MAAD,IAAYA,MAAM,CAACF,EAAP,KAAcA,EAA1C,CAAb;AACA,QAAMK,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBJ,IAAI,CAACK,MAAL,GAAc,CAA/B,CAAX,CAAb;AACA,QAAMC,GAAG,GAAGJ,IAAI,CAACK,GAAL,CAASL,IAAI,CAACM,GAAL,CAASP,IAAT,EAAeD,IAAI,CAACK,MAAL,GAAc,CAA7B,CAAT,EAA0C,CAA1C,CAAZ;AAEA,SAAOL,IAAI,CAACM,GAAD,CAAX;AACA","sourcesContent":["import fs from 'fs';\nimport path from 'path';\n\nconst sketchsDir = path.join(process.cwd(), 'public', 'projects');\n\nexport function getSketches() {\n\tconst sketches = fs.readFileSync(path.join(sketchsDir, 'sketches.json'), { encoding: 'utf8' });\n\n\treturn JSON.parse(sketches);\n};\n\nexport function getSketchesIds() {\n\treturn fs.readdirSync(sketchsDir)\n}\n\nexport function getSketchById(id) {\n\tconst sketches = getSketches();\n\n\treturn sketches.filter((sketch) => sketch.id === id)[0];\n};\n\nexport function pickRandomSketch(sketches, id) {\n\tconst pool = sketches.filter((sketch) => sketch.id !== id);\n\tconst roll = Math.floor(Math.random() * (pool.length + 1));\n\tconst idx = Math.max(Math.min(roll, pool.length - 1), 0);\n\n\treturn pool[idx];\n}\n"]},"metadata":{},"sourceType":"module"}